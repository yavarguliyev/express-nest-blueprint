<div class="dashboard-container">
  <div class="stats-grid">
    <div class="stat-card glass animate-slide-up">
      <div class="stat-icon users-icon"><span class="material-icons">people</span></div>
      <div class="stat-content">
        <span class="stat-label">Total Users</span>
        <h2 class="stat-value">{{ getMetricValue('Total Users') }}</h2>
      </div>
      <div class="stat-trend positive">+12% vs last month</div>
    </div>

    <div class="stat-card glass animate-slide-up" style="animation-delay: 0.1s">
      <div class="stat-icon active-icon"><span class="material-icons">bolt</span></div>
      <div class="stat-content">
        <span class="stat-label">Memory Usage</span>
        <h2 class="stat-value">{{ getMetricValue('Memory Usage') }} MB</h2>
      </div>
      <div class="stat-trend positive">Optimized</div>
    </div>

    <div class="stat-card glass animate-slide-up" style="animation-delay: 0.2s">
      <div class="stat-icon requests-icon"><span class="material-icons">api</span></div>
      <div class="stat-content">
        <span class="stat-label">Total Requests</span>
        <h2 class="stat-value">{{ getMetricValue('Total HTTP Requests') }}</h2>
      </div>
      <div class="stat-trend negative">Live Data</div>
    </div>

    <div class="stat-card glass animate-slide-up" style="animation-delay: 0.3s">
      <div class="stat-icon storage-icon"><span class="material-icons">speed</span></div>
      <div class="stat-content">
        <span class="stat-label">CPU Usage</span>
        <h2 class="stat-value">{{ getMetricValue('CPU Usage') | number:'1.2-2' }}s</h2>
      </div>
      <div class="stat-trend">User Time</div>
    </div>
  </div>

  <div class="charts-section animate-fade-in" *ngIf="data()?.charts?.length">
    <div *ngFor="let chart of data()?.charts" class="chart-card glass">
      <div class="chart-header">
        <h4>{{ chart.title }}</h4>
        <span class="chart-type-tag">{{ chart.type }}</span>
      </div>
      <div class="chart-data-list">
        <div *ngFor="let entry of chart.data" class="chart-row">
          <span class="chart-label">{{ entry.label }}</span>
          <div class="chart-bar-container">
            <div class="chart-bar" [style.width.%]="(entry.value / 10)" [ngClass]="chart.type"></div>
          </div>
          <span class="chart-value">{{ entry.value }}</span>
        </div>
      </div>
    </div>
  </div>

  <div class="dashboard-main-grid">
    <div class="health-overview glass animate-fade-in">
      <div class="card-header">
        <h3>System Health</h3>
        <span class="status-pill" [ngClass]="health()?.overallStatus === 'up' ? 'up' : 'down'">
          {{ health()?.overallStatus === 'up' ? 'Healthy' : 'Issues Detected' }}
        </span>
      </div>
      <div class="health-list">
        <div *ngFor="let component of health()?.components" class="health-item">
          <div class="comp-info">
            <span class="comp-name">{{ component.name }}</span>
            <span class="comp-details">{{ component.details?.latency ? component.details.latency + 'ms' : 'Active' }}</span>
          </div>
          <div class="status-indicator" [ngClass]="component.status"></div>
        </div>
      </div>
    </div>

    <div class="recent-alerts glass animate-fade-in">
      <div class="card-header">
        <h3>Recent Alerts</h3>
      </div>
      <div class="alerts-list">
        <div *ngFor="let alert of data()?.alerts" class="alert-item" [ngClass]="alert.type">
          <span class="material-icons">{{ alert.type === 'warning' ? 'warning' : (alert.type === 'error' ? 'error' : 'info') }}</span>
          <div class="alert-content">
            <span class="alert-title">{{ alert.title }}</span>
            <p>{{ alert.message }}</p>
          </div>
        </div>
        <div *ngIf="!data()?.alerts?.length" class="alert-item info">
          <span class="material-icons">info</span>
          <div class="alert-content">
            <span class="alert-title">No Recent Alerts</span>
            <p>Your system is performing optimally.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
