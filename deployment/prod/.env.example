# ==========================================
# Production Environment Configuration
# ==========================================
# Copy this file to .env and update the values

# App Configuration
NODE_ENV=production
PORT=3000
HOST=0.0.0.0

# App Role (API or WORKER)
APP_ROLE=API

# Database Configuration
DB_HOST=postgres
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=password
DB_DATABASE=express_nest_db
DB_NAME=express_nest_db
DB_REPLICA_HOSTS=db-replica-1,db-replica-2
DATABASE_URL=postgres://postgres:password@postgres:5432/express_nest_db
DB_SSL=false
DB_CONNECTION_LIMIT=10
DB_MIN_LIMIT=2
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=2000

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Compute & Worker Configuration
COMPUTE_AUTO_SPAWN=false
COMPUTE_MIN_WORKERS=3
COMPUTE_MAX_WORKERS=8

# JWT Configuration
# IMPORTANT: Change this in production!
JWT_SECRET=your_super_secret_jwt_key_change_in_production
JWT_EXPIRES_IN=24h

# Graceful Shutdown
SHUT_DOWN_TIMER=5000
SHUTDOWN_RETRIES=3
SHUTDOWN_RETRY_DELAY=1000

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Storage (S3/MinIO) - Optional
STORAGE_STRATEGY=s3
STORAGE_ENDPOINT=http://minio:9000
STORAGE_ACCESS_KEY=minio_admin
STORAGE_SECRET_KEY=minio_password
STORAGE_BUCKET_NAME=express-nest-blueprint
STORAGE_REGION=us-east-1
STORAGE_FORCE_PATH_STYLE=true
