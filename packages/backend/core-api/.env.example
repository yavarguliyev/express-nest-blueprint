# App Configuration
PORT=3000
NODE_ENV=development
SHUT_DOWN_TIMER=5000
SHUTDOWN_RETRIES=3
SHUTDOWN_RETRY_DELAY=1000

# Compute & Worker Configuration
# COMPUTE_APP_ROLE: 'api' starts the web server and manages workers, 'worker' only handles jobs.
APP_ROLE=API
COMPUTE_APP_ROLE=API
COMPUTE_AUTO_SPAWN=true
COMPUTE_MIN_WORKERS=1
COMPUTE_MAX_WORKERS=1

# JWT Configuration
JWT_SECRET=your_super_secret_jwt_key
JWT_EXPIRES_IN=24h

# Health Configuration
HEALTH_CHECK_SECRET=your_super_secret_jwt_key

# Rate Limiting Configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_MESSAGE="Too many requests from this IP, please try again later."
RATE_LIMIT_ERROR_TITLE="Too Many Requests"
RATE_LIMIT_ERROR_MESSAGE="Too many requests from this IP, please try again later."

# Queue & BullMQ Configuration
QUEUE_REMOVE_ON_COMPLETE=100
QUEUE_REMOVE_ON_FAIL=50
QUEUE_ATTEMPTS=3
QUEUE_BACKOFF_TYPE=exponential
QUEUE_BACKOFF_DELAY=2000

# Redis Configuration
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_URL=redis://127.0.0.1:6379
REDIS_DEFAULT_CACHE_TTL=3600
REDIS_DB=0
REDIS_CONCURRENCY=5

# Database (PostgreSQL) Configuration
DB_HOST=127.0.0.1
DB_PORT=54320
DB_USERNAME=postgres
DB_PASSWORD=password
DB_DATABASE=express_nest_db
DB_NAME=express_nest_db
DB_CONNECTION_LIMIT=10
DATABASE_URL=postgresql://postgres:password@127.0.0.1:54320/express_nest_db

# Storage (MinIO Local / AWS S3)
STORAGE_STRATEGY=s3
STORAGE_ENDPOINT=http://127.0.0.1:9000
STORAGE_PUBLIC_ENDPOINT=http://127.0.0.1:9000
STORAGE_ACCESS_KEY=minio_admin
STORAGE_SECRET_KEY=minio_password
STORAGE_BUCKET_NAME=express-nest-blueprint
STORAGE_REGION=us-east-1
STORAGE_FORCE_PATH_STYLE=true

# Zookeeper Configuration
ZOOKEEPER_CLIENT_PORT=2181
ZOOKEEPER_TICK_TIME=2000

# Kafka Configuration
KAFKA_BROKER_ID=1
KAFKA_ZOOKEEPER_CONNECT=zookeeper:2181
KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://kafka:9092,PLAINTEXT_HOST://localhost:29092
KAFKA_LISTENER_SECURITY_PROTOCOL_MAP=PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT
KAFKA_INTER_BROKER_LISTENER_NAME=PLAINTEXT
KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=1
KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS=0
KAFKA_BROKERS=localhost:29092
KAFKA_CLIENT_ID=express-nest-blueprint
KAFKA_GROUP_ID=express-nest-blueprint-group
KAFKA_TOPIC_REPLICATION_FACTOR=1
KAFKA_SESSION_TIMEOUT=45000
KAFKA_REBALANCE_TIMEOUT=90000
KAFKA_HEARBEAT_INTERVAL=3000
KAFKA_METADATA_MAX_AGE=30000

# Log Silencing
KAFKAJS_NO_PARTITIONER_WARNING=1
DOTENV_CONFIG_SILENT=true